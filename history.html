<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>История заказов</title>

  <link rel="stylesheet" href="assets/history.css">
</head>

<body>
  <header>
    <h1>Food Construct</h1>
    <div>
      <nav>
        <a href="index.html">Главная</a>
        <a href="lunch.html">Собрать ланч</a>
        <a href="order.html">Оформить ланч</a>
        <a id="active" href="history.html">Заказы</a>
        <a href="#contact.html">Контакты</a>
      </nav>
    </div>
  </header>

  <main class="container mx-auto my-8">
    <h1 class="text-2xl font-bold">История заказов</h1>
    <table class="orders-table w-full bg-white shadow-md rounded-lg overflow-hidden">
      <thead class="bg-gray-200">
        <tr>
          <th class="px-4 py-3 text-left">№</th>
          <th class="px-4 py-3 text-left">Дата оформления</th>
          <th class="px-4 py-3 text-left">Состав заказа</th>
          <th class="px-4 py-3 text-right">Стоимость</th>
          <th class="px-4 py-3 text-center">Время доставки</th>
          <th class="px-4 py-3 text-center">Действия</th>
        </tr>
      </thead>
      <tbody id="ordersTableBody">
        <!-- Данные о заказах будут добавляться сюда с помощью JavaScript -->
      </tbody>
    </table>
  </main>

  <!-- Модальные окна -->
  <div id="viewOrderModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('viewOrderModal')">&times;</span>
      <h2>Просмотр заказа</h2>
      <p id="viewOrderDate"></p>
      <p><b>Доставка</b></p>
      <p id="viewOrderFullName"></p>
      <p id="viewOrderAddress"></p>
      <p id="viewOrderDeliveryTime"></p>
      <p id="viewOrderPhone"></p>
      <p id="viewOrderEmail"></p>
      <p id="viewOrderComment"></p>
      <p><b>Состав заказа</b></p>
      <ul id="orderItemsView">
        <!-- Список блюд будет заполнен программно -->
      </ul>
      <p id="totalPriceView"></p>
    </div>
  </div>

  <!-- Модальное окно для редактирования заказа -->
  <div id="orderEditModal" class="modal">
    <div class="modal-content">
      <button class="close-modal-btn" onclick="closeModal('orderEditModal')">&times;</button>
      <h2>Редактировать заказ</h2>
      <form id="editOrderForm" onsubmit="saveEditedOrder(event)">
        <p><span id="editOrderDate"></span>
        <p><b>Доставка</b></p>
        <label for="editFullName">Имя получателя</label>
        <input type="text" id="editFullName" required>
        <label for="editAddress">Адрес доставки</label>
        <input type="text" id="editAddress" required>
        <label for="delivery_time">Время доставки доставки</label>
        <input type="time" id="delivery_time" name="delivery_time" min="07:00" max="23:00" step="300">
        <label for="editEmail">Email</label>
        <input type="email" id="editEmail" required>
        <label for="editPhone">Телефон</label>
        <input type="tel" id="editPhone" required>

        <label for="editComment">Комментарий</label>
        <textarea id="editComment"></textarea>
        <p><b>Состав заказа</b></p>
        <ul id="orderItems2">
          <!-- Список блюд будет заполнен программно -->
        </ul>
        <p id="totalPrice2">Итоговая стоимость: 0 руб.</p>
        <button type="button" onclick="closeModal('orderEditModal')">Отмена</button>
        <button type="submit">Сохранить</button>
      </form>
    </div>
  </div>

  <div id="deleteConfirmationModal" class="modal">
    <div class="modal-content">
      <h2>Удалить заказ?</h2>
      <button id="confirmDeleteBtn" onclick="deleteOrder()">Да</button>
      <button onclick="closeModal('deleteConfirmationModal')">Нет</button>
    </div>
  </div>
  <footer id="contacts">
    <p>Позвонить нам <a href="tel:+70000000000">+7-000-000-00-00</a></p>
  </footer>
  <script src="assets/history.js"></script>
</body>

</html>